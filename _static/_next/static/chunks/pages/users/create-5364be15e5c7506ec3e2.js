(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[159],{9059:function(r,e,n){"use strict";n.d(e,{I:function(){return j}});var t=n(5893),i=n(6265),o=n(8347),s=n(6729),a=n(6618),c=n(8488),u=n(9887),l=n(3955),p=n(8420),d=n(58),f=n(6185),h=n(4496);function b(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function m(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){(0,i.Z)(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}var g=function(r,e){var n=r.name,i=r.label,b=r.isDisabled,g=void 0!==b&&b,j=r.error,x=void 0===j?null:j,w=r.button,y=r.buttonProps,O=(0,o.Z)(r,["name","label","isDisabled","error","button","buttonProps"]);return(0,t.jsxs)(s.NI,{isInvalid:!!x,children:[i&&(0,t.jsx)(a.l,{htmlFor:n,children:i}),(0,t.jsxs)(c.B,{children:[(0,t.jsx)(u.I,m({id:n,name:n,focusBorderColor:"pink.500",backgroundColor:"gray.900",variant:"filled",_hover:{backgroundColor:"gray.900"},isDisabled:g,size:"lg",ref:e},O)),w&&(0,t.jsx)(l.x,{height:"100%",paddingRight:"3",children:y.icon?(0,t.jsx)(p.h,{type:"button","aria-label":y.title,icon:(0,t.jsx)(d.J,{as:y.icon}),fontSize:"24",variant:"filled",onClick:y.onClick,backgroundColor:y.transition?"pink.500":"gray.500"}):(0,t.jsx)(f.z,{height:"80%",size:"sm",colorScheme:"pink",onClick:y.onClick,children:"buttonProps.title"})})]}),!!x&&(0,t.jsx)(h.J,{children:x.message})]})},j=(0,n(7294).forwardRef)(g)},5698:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return E}});var t=n(5893),i=n(809),o=n.n(i),s=n(6265),a=n(2447),c=n(8017),u=n(4096),l=n(336),p=n(4003),d=n(6034),f=n(7086),h=n(6185),b=n(5063),m=n(8767),g=n(2283),j=n(9501),x=n(8834),w=n(1163),y=n(526),O=n(9059),v=n(6746),k=n(7479),_=n(1170);function P(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function C(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){(0,s.Z)(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}var S=j.Ry().shape({name:j.Z_().required("Nome obrigat\xf3ria"),email:j.Z_().required("E-mail obrigat\xf3rio").email("E-mail inv\xe1lido"),password:j.Z_().required("Senha obrigat\xf3ria").min(6,"No minimo 6 caracteres"),password_confirmation:j.Z_().oneOf([null,j.iH("password")],"As senhas precisam ser iguais").required("Senha obrigat\xf3ria")});function E(){var r=(0,w.useRouter)(),e=(0,m.useMutation)(function(){var r=(0,a.Z)(o().mark((function r(e){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_.h.post("users",{user:C(C({},e),{},{created_at:new Date})});case 2:return n=r.sent,r.abrupt("return",n.data.user);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),{onSuccess:function(){k.E.invalidateQueries("users")}}),n=(0,g.cI)({resolver:(0,x.X)(S)}),i=n.register,s=n.handleSubmit,j=n.formState,P=function(){var n=(0,a.Z)(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.mutateAsync(t);case 2:return n.next=4,r.push("/users");case 4:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),E=j.errors;return(0,t.jsxs)(c.xu,{children:[(0,t.jsx)(y.h,{}),(0,t.jsxs)(u.k,{width:"100%",marginY:"6",maxWidth:1480,marginX:"auto",paddingX:"6",children:[(0,t.jsx)(v.Y,{}),(0,t.jsxs)(c.xu,{as:"form",flex:"1",borderRadius:8,backgroundColor:"gray.800",padding:["6","8"],onSubmit:s(P),children:[(0,t.jsx)(l.X,{size:"lg",fontWeight:"normal",children:"Criar usu\xe1rio"}),(0,t.jsx)(p.i,{marginY:"6",borderColor:"gray.700"}),(0,t.jsxs)(d.gC,{spacing:"8",children:[(0,t.jsxs)(f.M,{minChildWidth:"240px",spacing:["6","8"],width:"100%",children:[(0,t.jsx)(O.I,C(C({name:"name",label:"Nome completo"},i("name")),{},{error:E.name})),(0,t.jsx)(O.I,C(C({name:"email",type:"email",label:"E-mail"},i("email")),{},{error:E.email}))]}),(0,t.jsxs)(f.M,{minChildWidth:"240px",spacing:["6","8"],width:"100%",children:[(0,t.jsx)(O.I,C(C({name:"password",type:"password",label:"Senha"},i("password")),{},{error:E.password})),(0,t.jsx)(O.I,C(C({name:"password_confirmation",type:"password",label:"Confirme a senha"},i("password_confirmation")),{},{error:E.password_confirmation}))]})]}),(0,t.jsx)(u.k,{marginTop:"8",justify:"flex-end",children:(0,t.jsxs)(d.Ug,{spacing:"4",children:[(0,t.jsx)(b.default,{href:"/users",passHref:!0,children:(0,t.jsx)(h.z,{as:"a",colorScheme:"whiteAlpha",children:"Cancelar"})}),(0,t.jsx)(h.z,{type:"submit",isLoading:j.isSubmitting,colorScheme:"pink",children:"Salvar"})]})})]})]})]})}},6850:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/create",function(){return n(5698)}])}},function(r){r.O(0,[774,937,43,329,657,980,761,888,179],(function(){return e=6850,r(r.s=e);var e}));var e=r.O();_N_E=e}]);